[General]
cmdenv-express-mode = false
cmdenv-autoflush = true
cmdenv-status-frequency = 1s
**.cmdenv-log-level = info

image-path = ../../images

network = Highway

##########################################################
#            Simulation parameters                       #
##########################################################
debug-on-errors = true
print-undisposed = true

#sim-time-limit =900s
sim-time-limit =120s
 
**.scalar-recording = true
**.vector-recording = true

#*.playgroundSizeX = 2500m
#*.playgroundSizeY = 2500m
#*.playgroundSizeZ = 50m

*.playgroundSizeX = 2500m   # >473.11
*.playgroundSizeY = 2500m   # >399.44
*.playgroundSizeZ = 50m


num-rngs = 4

########LLTEEe#########
**.channelControl.pMax = 10W
**.channelControl.alpha = 1.0
**.channelControl.carrierFrequency = 5905e+6Hz



**.lteNic.phy.channelModel = xmldoc("config_channel.xml")
**.lteNic.phy.minDistance = 1 m #Akid
**.feedbackComputation = xmldoc("config_channel.xml")
**.rbAllocationType = "localized"
**.feedbackType = "ALLBANDS"
**.feedbackGeneratorType = "IDEAL"
**.maxHarqRtx = 0
**.deployer.ruRange = 50
**.deployer.ruTxPower = "50,50,50;"
**.deployer.antennaCws = "2;" # !!MACRO + RUS (numRus + 1)
**.deployer.numRbDl = 51
**.deployer.numRbUl = 100
**.numBands = 48
**.fbDelay = 1

**.macDelayDl.statistic-recording = false
**.macThroughputDl.statistic-recording = false
**.macDelayUl.statistic-recording = false
**.macThroughputUl.statistic-recording = false
**.macDelayD2D.statistic-recording = false
**.macThroughputD2D.statistic-recording = false
**.macCellThroughputUl.statistic-recording = false
**.macCellThroughputDl.statistic-recording = false
**.macCellThroughputD2D.statistic-recording = false
**.macCellPacketLossDl.statistic-recording = false
**.macCellPacketLossUl.statistic-recording = false
**.macCellPacketLossD2D.statistic-recording = false
**.macPacketLossUl.statistic-recording = false
**.macPacketLossDl.statistic-recording = false
**.macPacketLossD2D.statistic-recording = false
**.macBufferOverFlowDl.statistic-recording = false
**.macBufferOverFlowUl.statistic-recording = false
**.macBufferOverFlowD2D.statistic-recording = false
**.harqErrorRateUl.statistic-recording = false
**.harqErrorRateDl.statistic-recording = false
**.harqErrorRateD2D.statistic-recording = false
**.harqErrorRate_1st_Ul.statistic-recording = false
**.harqErrorRate_1st_Dl.statistic-recording = false
**.harqErrorRate_1st_D2D.statistic-recording = false
**.harqErrorRate_2nd_Ul.statistic-recording = false
**.harqErrorRate_2nd_D2D.statistic-recording = false
**.harqErrorRate_3rd_Ul.statistic-recording = false
**.harqErrorRate_3rd_Dl.statistic-recording = false
**.harqErrorRate_3rd_D2D.statistic-recording = false
**.harqErrorRate_4th_Ul.statistic-recording = false
**.harqErrorRate_4th_Dl.statistic-recording = false
**.harqErrorRate_4th_D2D.statistic-recording = false
**.receivedPacketFromUpperLayer.statistic-recording = false
**.receivedPacketFromLowerLayer.statistic-recording = false
**.sentPacketToUpperLayer.statistic-recording = false
**.sentPacketToLowerLayer.statistic-recording = false
**.measuredItbs.statistic-recording = false
**.pdcpdrop0.statistic-recording = false
**.pdcpdrop1.statistic-recording = false
**.pdcpdrop2.statistic-recording = false
**.pdcpdrop3.statistic-recording = false
**.averageCqiD2D.statistic-recording = true
**.averageCqiDl.statistic-recording = true
**.averageCqiUl.statistic-recording = true



##########################################################
#            TraCIScenarioManager parameters             #
##########################################################
*.manager.moduleType = "lte.simulations.Mode4.CarNonIp"
*.manager.moduleName = "carNoIp"
*.manager.updateInterval = 0.1s
*.manager.host = "localhost"
*.manager.port = 9999
*.manager.autoShutdown = true
*.manager.launchConfig = xmldoc("town05/town05.launchd.xml")

#*.manager.moduleTypeRsu = "lte.simulations.Mode4.RSU"
#*.manager.moduleNameRsu = "rsu"
#*.manager.addRsu = true 
#*.manager.rsuType = "rsu"


*.carNoIp[*].veinsmobility.x = 0
*.carNoIp[*].veinsmobility.y = 0
*.carNoIp[*].veinsmobility.z = 0

#*.rsu[*].veinsmobility.x = 1000
#*.rsu[*].veinsmobility.y = 1000
#*.rsu[*].veinsmobility.z = 5

*.rsu[*].veinsmobility.x = 300
*.rsu[*].veinsmobility.y = 200
*.rsu[*].veinsmobility.z = 5

**.deployer.positionUpdateInterval = 0.01s
**.binder.d2dCapableUes = "carNoIp[*],rsu[*]"

*.numRsu = 1
*.carNoIp[*].veinsmobilityType = "org.car2x.veins.modules.mobility.traci.TraCIMobility"
#*.rsu[*].veinsmobilityType = "org.car2x.veins.modules.mobility.traci.TraCIMobility"


[Config Base]
*.carNoIp[*].d2dCapable = true
*.carNoIp[*].mode4D2D = true
**.amcMode = "D2D"
*.carNoIp[*].applType = "Mode4App"
*.carNoIp[*].appl.packetSize = 2300
*.carNoIp[*].nicType = "LteNicVUeMode4"
*.carNoIp[*].lteNic.d2dCapable = true
*.carNoIp[*].lteNic.pdcpRrc.ipBased = false
*.carNoIp[*].lteNic.rlc.ipBased = false
*.carNoIp[*].lteNic.mac.subchannelSize = 10
*.carNoIp[*].lteNic.mac.numSubchannels = 10
*.carNoIp[*].lteNic.mac.probResourceKeep = 0.8
*.carNoIp[*].lteNic.mac.useCBR = false
*.carNoIp[*].lteNic.mac.crLimit = false
*.carNoIp[*].lteNic.mac.rriLookup = false
*.carNoIp[*].lteNic.mac.dccMechanism = false
*.carNoIp[*].lteNic.mac.packetDropping = false
*.carNoIp[*].lteNic.mac.reselectAfter = 1
*.carNoIp[*].lteNic.mac.adjacencyPSCCHPSSCH = true
*.carNoIp[*].lteNic.rlc.um.scenario3gpp = false
*.carNoIp[*].lteNic.phy.subchannelSize = 10
*.carNoIp[*].lteNic.phy.numSubchannels = 10
*.carNoIp[*].lteNic.phy.selectionWindowStartingSubframe = 1
*.carNoIp[*].lteNic.phy.adjacencyPSCCHPSSCH = true
*.carNoIp[*].lteNic.phy.pStep = 100
*.carNoIp[*].lteNic.phy.thresholdRSSI = 10
*.carNoIp[*].ueTxPower = 23
*.carNoIp[*].lteNic.phy.d2dTxPower = 23
*.carNoIp[*].appl.startTime = 0.6s         # when the first packet is created
*.carNoIp[*].appl.sendInterval = 0.1s       # every 100 ms (adjust to your app)


# RSU Specific Settings

*.rsu[*].d2dCapable = true
*.rsu[*].mode4D2D = true
*.rsu[*].applType = "Mode4RSUApp"
*.rsu[*].appl.packetSize = 2300
*.rsu[*].nicType = "LteNicVUeMode4"
*.rsu[*].lteNic.d2dCapable = true
*.rsu[*].lteNic.pdcpRrc.ipBased = false
*.rsu[*].lteNic.rlc.ipBased = false
*.rsu[*].lteNic.mac.subchannelSize = 10
*.rsu[*].lteNic.mac.numSubchannels = 10
*.rsu[*].lteNic.mac.probResourceKeep = 0.8
*.rsu[*].lteNic.mac.useCBR = false
*.rsu[*].lteNic.mac.crLimit = false
*.rsu[*].lteNic.mac.rriLookup = false
*.rsu[*].lteNic.mac.dccMechanism = false
*.rsu[*].lteNic.mac.packetDropping = false
*.rsu[*].lteNic.mac.reselectAfter = 1
*.rsu[*].lteNic.mac.adjacencyPSCCHPSSCH = true
*.rsu[*].lteNic.rlc.um.scenario3gpp = false
*.rsu[*].lteNic.phy.subchannelSize = 10
*.rsu[*].lteNic.phy.numSubchannels = 10
*.rsu[*].lteNic.phy.selectionWindowStartingSubframe = 1
*.rsu[*].lteNic.phy.adjacencyPSCCHPSSCH = true
*.rsu[*].lteNic.phy.pStep = 100
*.rsu[*].lteNic.phy.thresholdRSSI = 10
*.rsu[*].ueTxPower = 23
*.rsu[*].lteNic.phy.d2dTxPower = 23
*.rsu[*].appl.startTime = 0.6s         # when the first packet is created
*.rsu[*].appl.sendInterval = 0.1
*.rsu[*].appl.startTime = 0.3s

# RSU server socket
*.rsu[*].appl.socketPort = 9011
*.rsu[*].appl.socketPollInterval = 0.05s
*.rsu[*].appl.slDurationMs = 10     # keep the safe value you found works
*.rsu[*].appl.slPriority = 1
*.rsu[*].appl.slLcid = 5


**.usePreconfiguredTxParams = true
**.lteNic.mac.txConfig = xmldoc("sidelink_configuration.xml")

